
```md
# GitHub Copilot Instructions
## Autonomous Job Search & Auto-Apply Agent

This repository implements a **fully autonomous, policy-driven job search and auto-apply system for students**.

All code generated by Copilot MUST follow the rules below.

---

## 1. Core Principles (Non-Negotiable)

- The system must run **fully autonomously** after onboarding
- No per-job or per-application human approval
- All decisions are enforced by **explicit policies**, not prompts
- The system must be **safe-by-design**
- Never fabricate:
  - experience
  - metrics
  - titles
  - dates
  - skills

If information is missing → skip the job.

---

## 2. Tech Stack Constraints

### Frontend
- Next.js (App Router)
- TypeScript
- Minimal UI, clarity over styling

### Backend
- Node.js
- MongoDB (Mongoose)
- Redis + BullMQ
- LangChain
- LangGraph

### Execution
- Background workers ONLY
- No long-running logic inside Next.js request lifecycle

---

## 3. Architecture Rules

```

Next.js UI / API
↓
BullMQ Queue
↓
Background Workers
↓
LangGraph Agents
↓
Sandbox Job Portal APIs

```

LLMs **decide**.  
Workers **execute**.  
Policies **gate everything**.

---

## 4. Worker Model (Mandatory)

There MUST be **two workers**:

### Worker 1 — Job Finder
- Searches job sources
- Ranks jobs
- Applies policy checks
- Enqueues apply jobs

### Worker 2 — Apply Worker
- Consumes apply jobs
- Personalizes applications
- Submits via sandbox API
- Logs results

Workers must:
- Be long-running processes
- Use BullMQ
- Be restart-safe
- Be idempotent

---

## 5. Required Agents (LangGraph)

Do NOT create a single monolithic agent.

### Required Nodes

1. Artifact Pack Agent
2. Job Search Agent
3. Job Ranking Agent
4. Apply Policy Guard Agent
5. Personalization Agent
6. Hallucination Guard Agent
7. Apply Execution Agent

Each agent must:
- Have a single responsibility
- Use strict schemas
- Fail safely

---

## 6. Apply Policy Enforcement

Before ANY application:
- Enforce:
  - daily cap
  - minimum match score
  - blocked companies
  - blocked roles
  - location / visa constraints
  - company cooldown
  - kill switch

Policy checks must be **code-level**, not prompt-level.

---

## 7. Sandbox-Only Applying

- All applications MUST go through a sandbox job portal
- No browser automation
- No scraping real job boards
- No Selenium / Puppeteer

---

## 8. Observability & UX Requirements

The system MUST expose:

### Live Agent Logs
- Per-stage logs
- Retry logs
- Error logs

### Timeline Per Job
- searched → ranked → allowed → applied → submitted / failed

### Skip With Reason
- Every skipped job must have a visible reason

---

## 9. Advanced Features (Expected)

- Multi-resume support
- Evidence confidence levels (strong / medium / weak)
- Company cooldown logic
- Self-improving job ranking
- AI suggestions for skipped jobs
- Hallucination detection & blocking

---

## 10. Data Integrity Rules

- All LLM outputs must be validated
- Use explicit schemas
- Never trust free-text output
- All side-effects must be logged

---

## 11. What Copilot Must NOT Generate

❌ Browser automation  
❌ Real job board integrations  
❌ Single-agent systems  
❌ Prompt-only safety enforcement  
❌ Long-running logic in Next.js routes  
❌ Free-form LLM outputs  

---

## 12. Coding Expectations

- Prefer explicit types
- Prefer small, composable functions
- Prefer deterministic logic over creativity
- Fail closed, not open
- Write code as if it will be audited

If a requested change violates these rules, DO NOT implement it.

---

## 13. Demo Mindset

- Autonomy > polish
- Explainability > speed
- Safety > volume

Build accordingly.
```

